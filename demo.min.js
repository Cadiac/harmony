C=Math.cos,S=Math.sin,P=Math.pow,run=()=>{vs="attribute vec2 p;void main(){gl_Position=vec4(p,0,1);}",fs="precision highp float;uniform float v;uniform vec2 d;uniform vec4 m;const vec3 i=vec3(.8,.7,.6),h=vec3(1,.92,1);struct M{vec3 d;vec3 m;vec3 e;float h;float f;};struct S{int i;float d;M m;};struct R{S d;vec3 n;vec3 o;bool h;};float n(vec3 v,vec3 d,vec3 e){vec3 i=v-d,h=e-d;return length(i-h*clamp(dot(i,h)/dot(h,h),0.,1.))-.05;}float n(vec3 v,float d){return length(v)-d;}float n(vec3 v){vec3 d=vec3(0,9,0),h=vec3(m.xy,0)+d,i=vec3(m.zw,0)+d;float f=n(v-h,.2),o=n(v-i,.4),c=n(v,d,h),y=n(v,h,i);return min(min(f,o),min(c,y));}S f(S d,S h){if (d.d<h.d){return d;}return h;}S f(vec3 v){S i,h=S(0,n(v),M(vec3(.5),vec3(.5),vec3(.5),50.,.5)),d=S(1,dot(v,vec3(0,1,0))+2.,M(vec3(.5,1,1),vec3(.5),vec3(.5),2.,0.)),o=S(2,n(v-vec3(5),5.),M(vec3(.9),vec3(.5),vec3(.5),50.,.5)),y=S(3,n(v-vec3(-2,2,-3),3.),M(vec3(1,.3,.2),vec3(.9,.5,.5),vec3(.9),50.,.3));i=f(d,h);i=f(i,o);return f(i,y);}vec3 e(vec3 d,float v){vec3 m=exp2(-v*.05*h);return d*m+(1.-m)*i;}vec3 e(vec3 d,vec3 v,vec3 m){vec3 f=vec3(.7,.8,.9)-.5*v.y,o=exp2(-abs((2.5e4-d.y)/v.y)*1e-5*h);f=f*o+(1.-o)*i;float e=dot(m,v);if(e>.9999)f=vec3(.9);if(e>.9998)f=mix(f,vec3(.9),(e-.9998)/2e-4);return f;}float t(vec3 v,vec3 d){float i=1.,h=1.;for(int m=0;m<400;++m){if(h>=250.)return i;S e=f(d+h*v);if(e.d<1e-5)return 0.;i=min(i,10.*e.d/h);h+=e.d;}return i;}mat4 s(vec3 v,vec3 d){vec3 h=normalize(vec3(0,5,0)-v),i=normalize(cross(d,h));return mat4(vec4(i,0),vec4(cross(h,i),0),vec4(-h,0),vec4(0,0,0,1));}vec3 e(vec3 v,vec3 h,vec3 d,vec3 i,M m){float f=clamp(dot(v,h)*t(v,d),0.,1.);return m.m+m.d*f+m.e*pow(clamp(dot(reflect(v,h),i),0.,1.),m.h);}R p(vec3 v,vec3 d){float h=1e-5,i=1e-5;R m;for(int r=0;r<400;r++){h=.001*i;m.o=v+i*d;m.d=f(m.o);if(m.d.d<h){m.h=true;break;}i+=m.d.d*.5;if(i>=250.)break;}m.d.d=i;const vec2 e=vec2(1,-1);vec3 r=m.o;m.n=normalize(e.xyy*f(r+e.xyy*1e-5).d+e.yyx*f(r+e.yyx*1e-5).d+e.yxy*f(r+e.yxy*1e-5).d+e.xxx*f(r+e.xxx*1e-5).d);return m;}vec3 r(vec3 v,vec3 d){vec3 h=normalize(vec3(0,10,10)),i=vec3(0);float m=1.;vec3 f=d;float r=0.;R n=p(v,f);for(int o=0;o<10;o++){if(!n.h){i=mix(i,e(v,f,h),m);break;}vec3 y=n.n;if(n.d.i==1)y=vec3(0,1,0);else if(n.d.i==2)y=normalize(n.o-vec3(5));else if(n.d.i==3)y=normalize(n.o-vec3(-1,2,-3));r+=n.d.d;vec3 c=e(h,y,n.o,f,n.d.m);c=e(c,r);i=mix(i,c,m);m*=n.d.m.f;if(m<1e-5)break;f=reflect(f,y);n=p(n.o,f);}return i;}void main(){vec2 i=gl_FragCoord.xy-d/2.;vec3 f=vec3(-10.+20.*sin(v/1e4),4.+sin(v/5e3),-20.+20.*cos(v/1e4));mat4 m=s(f,normalize(vec3(1.-sin(v/5e3),sin(v/5e3),0)));vec3 n=r(f,(m*vec4(normalize(vec3(i,-d.y/tan(radians(60.)/2.))),0)).xyz);n=pow(n,h);n*=vec3(1.02,.99,.9);n.z=n.z+.1;n=smoothstep(0.,1.,n);gl_FragColor=vec4(n,1);}",l=performance.now(),a=new AudioContext,(f=a.createBiquadFilter()).type="lowpass",f.frequency.value=.1*a.sampleRate/2,f.Q.value=10,f.connect(a.destination),(m=a.createOscillator()).frequency.value=5,m.start(),(g=a.createGain()).gain.value=5,m.connect(g),[[3,0],[2,20],[2,-20]].map(([v,e])=>{(o=new OscillatorNode(a)).type="sawtooth",o.frequency.value=440*P(2,v-4),o.detune.value=e,o.connect(f),g.connect(o.frequency),n=[440,523.25,349.23,392];for(let e=0;e<100;e++)o.frequency.setValueAtTime(n[e%4]*P(2,v-4),a.currentTime+2*e);return o.start(),o}),w=window.innerWidth,h=window.innerHeight,p=[3,2,1,0],canvas=document.createElement("canvas"),document.body.appendChild(canvas),canvas.width=w,canvas.height=h,(s=canvas.style).position="fixed",s.left=s.top=0,(gl=canvas.getContext("webgl")).viewport(0,0,w,h),program=gl.createProgram();var e=gl.createShader(35633);gl.shaderSource(e,vs),gl.compileShader(e),gl.attachShader(program,e),e=gl.createShader(35632),gl.shaderSource(e,fs),gl.compileShader(e),gl.attachShader(program,e),gl.linkProgram(program);A=34962,gl.bindBuffer(A,gl.createBuffer()),gl.bufferData(A,new Float32Array([1,1,1,-1,-1,1,-1,-1]),35044),gl.enableVertexAttribArray(0),gl.vertexAttribPointer(0,2,5126,!1,0,0),L=(c,e)=>{var[e,v,o,n]=e.map((e,v)=>p[v]+e*c),r=C(e-v)/3,i=2.5*C(e-v),a=-(P(n,2)*S(e-v))/3-2*S(e),e=2.5*P(o,2)*S(e-v)-5*S(v);return[o,n,(a-r*e)/(1-r*i),(e-i*a)/(1-r*i)]},window.requestAnimationFrame(function e(){now=performance.now(),dt=(now-l)/1e3,l=now,X=L(0,[0,0,0,0]),Y=L(dt/2,X),Z=L(dt/2,Y),W=L(dt,Z),p.map((e,v)=>{p[v]+=dt*(X[v]+2*Y[v]+2*Z[v]+W[v])/6}),f.frequency.setValueAtTime(.05*Math.abs(p[3])*a.sampleRate/2,a.currentTime),f.Q.setValueAtTime(10+p[1],a.currentTime),m.frequency.setValueAtTime(Math.abs(p[3]),a.currentTime),g.gain.setValueAtTime(Math.abs(p[3]),a.currentTime),gl.clearColor(0,0,0,1),gl.clear(16384),gl.useProgram(program),gl.uniform1f(gl.getUniformLocation(program,"v"),now),gl.uniform2f(gl.getUniformLocation(program,"d"),w,h),x=5*S(p[0]),y=5*-C(p[0]),gl.uniform4f(gl.getUniformLocation(program,"m"),x,y,x+2*S(p[1]),y-2*C(p[1])),gl.uniform2f(gl.getUniformLocation(program,"f"),.2*Math.pow(1,.333),.2*Math.pow(5,.333)),gl.drawArrays(5,0,4),window.requestAnimationFrame(e)})};
